<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Window | Tiny3.0</title>
    <meta name="description" content="让移动开发更简单易用 高效 原生技术 极致体验">
    
    
    <link rel="preload" href="/assets/css/0.styles.2c5d1044.css" as="style"><link rel="preload" href="/assets/js/app.ca606cee.js" as="script"><link rel="preload" href="/assets/js/2.a15a07d6.js" as="script"><link rel="preload" href="/assets/js/38.8c2729b4.js" as="script"><link rel="prefetch" href="/assets/js/10.07439bc1.js"><link rel="prefetch" href="/assets/js/11.b6423dee.js"><link rel="prefetch" href="/assets/js/12.1dd3709f.js"><link rel="prefetch" href="/assets/js/13.225d92ac.js"><link rel="prefetch" href="/assets/js/14.792b7491.js"><link rel="prefetch" href="/assets/js/15.d2be2644.js"><link rel="prefetch" href="/assets/js/16.378bbb18.js"><link rel="prefetch" href="/assets/js/17.2f71d094.js"><link rel="prefetch" href="/assets/js/18.8649b416.js"><link rel="prefetch" href="/assets/js/19.210552f7.js"><link rel="prefetch" href="/assets/js/20.06741978.js"><link rel="prefetch" href="/assets/js/21.95b38e6d.js"><link rel="prefetch" href="/assets/js/22.2557020e.js"><link rel="prefetch" href="/assets/js/23.a54cfe39.js"><link rel="prefetch" href="/assets/js/24.ab8c9783.js"><link rel="prefetch" href="/assets/js/25.0a78b4a7.js"><link rel="prefetch" href="/assets/js/26.048f8c24.js"><link rel="prefetch" href="/assets/js/27.c80533f5.js"><link rel="prefetch" href="/assets/js/28.fd115b2a.js"><link rel="prefetch" href="/assets/js/29.f2567c1c.js"><link rel="prefetch" href="/assets/js/3.3d78497d.js"><link rel="prefetch" href="/assets/js/30.604d896b.js"><link rel="prefetch" href="/assets/js/31.b89b2639.js"><link rel="prefetch" href="/assets/js/32.2121f7c8.js"><link rel="prefetch" href="/assets/js/33.d8a9c178.js"><link rel="prefetch" href="/assets/js/34.7c48857e.js"><link rel="prefetch" href="/assets/js/35.410276dc.js"><link rel="prefetch" href="/assets/js/36.2c043369.js"><link rel="prefetch" href="/assets/js/37.45858837.js"><link rel="prefetch" href="/assets/js/39.0f98463c.js"><link rel="prefetch" href="/assets/js/4.1c37bc38.js"><link rel="prefetch" href="/assets/js/40.48f92e34.js"><link rel="prefetch" href="/assets/js/41.262dfa60.js"><link rel="prefetch" href="/assets/js/5.47e308e0.js"><link rel="prefetch" href="/assets/js/6.e4db11fc.js"><link rel="prefetch" href="/assets/js/7.e8201afe.js"><link rel="prefetch" href="/assets/js/8.d5860b74.js"><link rel="prefetch" href="/assets/js/9.50e7069a.js">
    <link rel="stylesheet" href="/assets/css/0.styles.2c5d1044.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Tiny3.0</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">主页</a></div><div class="nav-item"><a href="/guide/" class="nav-link">文档中心</a></div><div class="nav-item"><a href="http://www.mtiny.cn/tiny/index.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  杭州长亮
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">主页</a></div><div class="nav-item"><a href="/guide/" class="nav-link">文档中心</a></div><div class="nav-item"><a href="http://www.mtiny.cn/tiny/index.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  杭州长亮
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Tags</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>TinyJS</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Tags/system.html" class="sidebar-link">System</a></li><li><a href="/Tags/window.html" class="active sidebar-link">Window</a></li><li><a href="/Tags/navigator.html" class="sidebar-link">Navigator</a></li><li><a href="/Tags/encrypt.html" class="sidebar-link">Encrypt</a></li><li><a href="/Tags/document.html" class="sidebar-link">Document</a></li><li><a href="/Tags/element.html" class="sidebar-link">element</a></li><li><a href="/Tags/request.html" class="sidebar-link">Request</a></li><li><a href="/Tags/Multipicker.html" class="sidebar-link">MultiPicker</a></li><li><a href="/Tags/actionsheet.html" class="sidebar-link">ActionSheet</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>其他</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="window"><a href="#window" class="header-anchor">#</a> Window</h2> <h3 id="描述"><a href="#描述" class="header-anchor">#</a> 描述</h3> <p>Window 对象为tiny 内置对象，提供一些程序设备相关的基本操作。如本地存储、拨打电话、拍照相册等功能。</p> <h3 id="事件"><a href="#事件" class="header-anchor">#</a> 事件</h3> <table class="table table-bordered table-striped table-condensed"><tr><td>事件</td> <td>描述</td> <td>备注</td></tr> <tr><td>openKeyBoard</td> <td>打开键盘事件</td> <td></td></tr> <tr><td>closeKeyBoard</td> <td>关闭键盘事件</td> <td></td></tr></table> <h3 id="方法"><a href="#方法" class="header-anchor">#</a> 方法</h3> <table class="table table-bordered table-striped table-condensed"><tr><td>方法</td> <td>描述</td> <td>备注</td></tr> <tr><td><a href="#1F">assign</a></td> <td>页面跳转</td> <td></td></tr> <tr><td><a href="#2F">back</a></td> <td>页面返回</td> <td></td></tr> <tr><td><a href="#3F">open</a></td> <td>打开新的窗体</td> <td></td></tr> <tr><td><a href="#4F">close</a></td> <td>关闭新的窗体</td> <td></td></tr> <tr><td><a href="#5F">addEventListener</a></td> <td>增加事件监听</td> <td></td></tr> <tr><td><a href="#6F">closeKeyBoard</a></td> <td>关闭键盘</td> <td></td></tr> <tr><td><a href="#7F">tel</a></td> <td>拨打电话</td> <td></td></tr> <tr><td><a href="#8F">info</a></td> <td>弹出提示信息</td> <td></td></tr> <tr><td><a href="#9F">alert</a></td> <td>弹出提示信息</td> <td></td></tr> <tr><td><a href="#10F">lock</a></td> <td>弹出进度条提示</td> <td></td></tr> <tr><td><a href="#11F">unlock</a></td> <td>关闭进度条提示</td> <td></td></tr> <tr><td><a href="#12F">confirm</a></td> <td>弹出选择对话框</td> <td></td></tr> <tr><td><a href="#13F">setInterval</a></td> <td>设置定时器</td> <td></td></tr> <tr><td><a href="#14F">clearInterval</a></td> <td>清除定时器</td> <td></td></tr> <tr><td><a href="#15F">setTimeout</a></td> <td>设置延迟执行</td> <td></td></tr> <tr><td><a href="#16F">addNotification</a></td> <td>增加通知</td> <td></td></tr> <tr><td><a href="#17F">postNotification</a></td> <td>发送通知</td> <td></td></tr> <tr><td><a href="#18F">removeNotification</a></td> <td>移除通知</td> <td></td></tr> <tr><td><a href="#19F">copyToPasteboard</a></td> <td>复制剪切板</td> <td></td></tr> <tr><td><a href="#20F">setStatusBar</a></td> <td>设置状态栏</td> <td></td></tr> <tr><td><a href="#21F">firstLanguage</a></td> <td>获取手机语言</td> <td></td></tr> <tr><td><a href="#22F">fileIsExists</a></td> <td>文件是否存在</td> <td></td></tr> <tr><td><a href="#23F">exitApp</a></td> <td>退出app</td> <td></td></tr> <tr><td><a href="#24F">getfilePath</a></td> <td>获取文件路径</td> <td></td></tr> <tr><td><a href="#25F">deleteDir</a></td> <td>删除当前路径下的文件</td> <td></td></tr> <tr><td><a href="#26F">isImage</a></td> <td>图片是否损坏</td> <td></td></tr> <tr><td><a href="#27F">getStatusBarHeight</a></td> <td>获取状态栏高度</td> <td></td></tr> <tr><td><a href="#28F">startVibrate</a></td> <td>震动</td> <td></td></tr> <tr><td><a href="#29F">stopVibrate</a></td> <td>停止震动</td> <td></td></tr> <tr><td><a href="#30F">photo</a></td> <td>选择本地相册</td> <td></td></tr> <tr><td><a href="#31F">camera</a></td> <td>拍照</td> <td></td></tr> <tr><td><a href="#32F">forward</a></td> <td>前向跳转</td> <td></td></tr> <tr><td><a href="#33F">backward</a></td> <td>后退</td> <td></td></tr> <tr><td><a href="#34F">closeBottomAds</a></td> <td>关闭广告页</td> <td></td></tr> <tr><td><a href="#35F">closeOpenAds</a></td> <td>关闭广告页</td> <td></td></tr> <tr><td><a href="#36F">getFileData</a></td> <td>图片base64编码</td> <td></td></tr> <tr><td><a href="#37F">getEncryptFileData</a></td> <td>读取本地文件</td> <td></td></tr> <tr><td><a href="#38F">encryptFile</a></td> <td>转出base64写到路径中</td> <td></td></tr> <tr><td><a href="#39F">allContact</a></td> <td>抓取通讯录所有联系人</td> <td></td></tr> <tr><td><a href="#40F">contact</a></td> <td>选择联系人</td> <td></td></tr></table> <hr> <h4 id="assign"><a href="#assign" class="header-anchor">#</a> <a name="1F">assign</a></h4> <p><strong>1.页面跳转</strong></p> <pre><code>Window.assign(url)
</code></pre> <p>如果要实现应用内页面之间的跳转，可以使用这个语法，此处的 url 一般是TML 文件。</p> <h5 id="params"><a href="#params" class="header-anchor">#</a> params</h5> <ul><li>url:tml地址</li></ul> <p><strong>2.应用商店或者浏览器跳转</strong></p> <pre><code>Window.assign('browser://'+'url') 
</code></pre> <p>如果要实现应用与应用商店、浏览器或者其他应用的通讯，使用这条语句即可。省略的</p> <h5 id="params-2"><a href="#params-2" class="header-anchor">#</a> params</h5> <ul><li><p>browser:// : 是跳转的关键语句，不可省略。</p></li> <li><p>url : 要访问的目标地址，不能为空，没有确定模板，而只需要跳转到浏览器，可以使用以下语句：</p> <pre><code>  Window.assign('browser://'+'https:') 
</code></pre></li></ul> <hr> <h4 id="back"><a href="#back" class="header-anchor">#</a> <a name="2F">back</a></h4> <p>根据页面ID，返回页面。如果id为空，则直接返回上一页面；如果id在栈顶或者id非空但不存在则不操作</p> <pre><code>Window.back(id)
</code></pre> <h5 id="params-3"><a href="#params-3" class="header-anchor">#</a> params</h5> <ul><li>id:页面id。如果为空，直接返回上一页面。<br></li></ul> <hr> <h4 id="open"><a href="#open" class="header-anchor">#</a> <a name="3F">open</a></h4> <p>打开新的窗体，打开窗体页面剧中显示</p> <pre><code>Window.open(url, width, height, animationType)
</code></pre> <h5 id="params-4"><a href="#params-4" class="header-anchor">#</a> params</h5> <ul><li>url:tml页面地址</li> <li>width:页面宽度，支持百分比，为暂用当前屏幕的百分比。</li> <li>height:页面高度，支持百分比，为暂用当前屏幕的百分比。</li> <li>animationType:动画类型。</li></ul> <p>示例：</p> <pre><code>Window.open(&quot;login.tml&quot;, &quot;50%&quot;, &quot;60%&quot;, &quot;scaleFromTopRight&quot;);
</code></pre> <h6 id="动画类型"><a href="#动画类型" class="header-anchor">#</a> 动画类型</h6> <table class="table table-bordered table-striped table-condensed"><tr><td>animationType</td> <td>描述</td> <td>备注</td></tr> <tr><td>none</td> <td>无动画</td> <td></td></tr> <tr><td>slideFromBottom</td> <td>从底部进入视图</td> <td></td></tr> <tr><td>slideFromTop</td> <td>从头部进入视图</td> <td></td></tr> <tr><td>slideFromLeft</td> <td>从左边进入视图</td> <td></td></tr> <tr><td>slideFromRight</td> <td>从右边进入视图</td> <td></td></tr> <tr><td>popShake</td> <td>视图抖动形式</td> <td></td></tr> <tr><td>scaleFromTopRight</td> <td>从头部右上角进入视图</td> <td></td></tr> <tr><td>scaleFromBottomRight </td> <td>从底部右下角进入视图</td> <td></td></tr></table> <h4 id="close"><a href="#close" class="header-anchor">#</a> <a name="4F">close</a></h4> <p>关闭当前弹出视图</p> <pre><code>Window.close()
</code></pre> <hr> <h4 id="addeventlistener"><a href="#addeventlistener" class="header-anchor">#</a> <a name="5F">addEventListener</a></h4> <p>增加事件监听</p> <pre><code>element.addEventListener(event, function())
</code></pre> <h5 id="params-5"><a href="#params-5" class="header-anchor">#</a> params</h5> <ul><li><p>event:事件名称。字符串格式。<br>
openKeyBoard打开键盘<br>
closeKeyBoard关闭键盘<br></p></li> <li><p>callback</p></li></ul> <p>示例：</p> <pre><code>   Window.addEventListener('openKeyBoard', function(){
        Window.info('打开键盘');
   });
   Window.addEventListener('closeKeyBoard', function(){
        Window.info('关闭键盘');
   });
</code></pre> <hr> <h4 id="closekeyboard"><a href="#closekeyboard" class="header-anchor">#</a> <a name="6F">closeKeyBoard</a></h4> <p>关闭键盘</p> <pre><code>Window.closeKeyBoard()
</code></pre> <hr> <h4 id="tel"><a href="#tel" class="header-anchor">#</a> <a name="7F">tel</a></h4> <p>拨打电话</p> <pre><code>Window.tel(phone)
</code></pre> <h5 id="params-6"><a href="#params-6" class="header-anchor">#</a> params</h5> <ul><li>phone:电话号码</li></ul> <hr> <h4 id="info"><a href="#info" class="header-anchor">#</a> <a name="8F">info</a></h4> <p>弹出提示信息</p> <pre><code>Window.info(msg)
</code></pre> <hr> <h4 id="alert"><a href="#alert" class="header-anchor">#</a> <a name="9F">alert</a></h4> <p>弹出提示框</p> <pre><code>Window.alert(info)
</code></pre> <h5 id="params-7"><a href="#params-7" class="header-anchor">#</a> params</h5> <ul><li>info:提示信息</li></ul> <hr> <h4 id="lock"><a href="#lock" class="header-anchor">#</a> <a name="10F">lock</a></h4> <p>弹出进度条提示，在使用lock方法后，需要通过unlock关闭提示框。</p> <pre><code>Window.lock()。
</code></pre> <hr> <h4 id="unlock"><a href="#unlock" class="header-anchor">#</a> <a name="11F">unlock</a></h4> <p>关闭进度条提示</p> <pre><code>Window.unlock()
</code></pre> <hr> <h4 id="confirm"><a href="#confirm" class="header-anchor">#</a> <a name="12F">confirm</a></h4> <p>弹出提示框</p> <pre><code>Window.confirm(message, function(index){})
</code></pre> <h5 id="params-8"><a href="#params-8" class="header-anchor">#</a> params</h5> <ul><li>message:提示信息</li> <li>callback:返回按钮索引</li></ul> <hr> <h4 id="setinterval"><a href="#setinterval" class="header-anchor">#</a> <a name="13F">setInterval</a></h4> <p>设置定时器<br></p> <pre><code>var id = Window.setInterval(callback, period)
</code></pre> <p>setInterval 只会执行回调函数一次，不过 setInterval - 正如名字建议的 - 会每隔 X 毫秒执行函数一次。想要清除这个定时器，可以使用 setInterval 方法。</p> <h5 id="params-9"><a href="#params-9" class="header-anchor">#</a> params</h5> <ul><li>callback:定时执行的callback方法</li> <li>period:时间 单位毫秒</li> <li></li></ul> <h5 id="return"><a href="#return" class="header-anchor">#</a> return</h5> <ul><li>id:定时器id</li></ul> <p>eg:</p> <p>设置定时器</p> <pre><code>var setIntervalId = Window.setInterval(function(){
        console.log(&quot;hello world&quot;);
}, 5000);
</code></pre> <hr> <h4 id="clearinterval"><a href="#clearinterval" class="header-anchor">#</a> <a name="14F">clearInterval</a></h4> <p>清理定时器</p> <pre><code>var id = Window.clearInterval(id)
</code></pre> <h5 id="params-10"><a href="#params-10" class="header-anchor">#</a> params</h5> <ul><li>id:定时器id</li></ul> <hr> <h4 id="settimeout"><a href="#settimeout" class="header-anchor">#</a> <a name="15F">setTimeout</a></h4> <p>延时执行callback方法</p> <pre><code>Window.setTimeout(callback, delay)
</code></pre> <h5 id="params-11"><a href="#params-11" class="header-anchor">#</a> params</h5> <ul><li>callback:延时执行的callback方法</li> <li>delay:时间 单位毫秒</li></ul> <hr> <h4 id="addnotification"><a href="#addnotification" class="header-anchor">#</a> <a name="16F">addNotification</a></h4> <p>监听通知</p> <pre><code>Window.addNotification(name, function(data){})
</code></pre> <h5 id="params-12"><a href="#params-12" class="header-anchor">#</a> params</h5> <ul><li>name:通知名称</li> <li>data:通知执行的回调，含通知发送的参数</li></ul> <hr> <h4 id="postnotification"><a href="#postnotification" class="header-anchor">#</a> <a name="17F">postNotification</a></h4> <p>发送通知</p> <pre><code>Window.postNotification(name, data)
</code></pre> <h5 id="params-13"><a href="#params-13" class="header-anchor">#</a> params</h5> <ul><li>name:通知名称</li> <li>data:发送通知的参数</li></ul> <p>通知的使用方法：</p> <p>一般来说，我们都是先发送通知，然后在去接收通知，比如下例，我们在 A 页面发送了一个 name 是closeAm 的通知，这个通知会在网络请求失败之后触发：</p> <pre><code>    r.error = function(error) {
    Window.postNotification(&quot;closeAm&quot;, &quot;Am&quot;);
    log(error);
}
</code></pre> <p>当网络请求失败之后，然后通过通知的 name 属性，B 页面会接收到这个信息，B 页面接收这个通知的写法应该在相应的 JavaScript 里增加：</p> <pre><code>Window.addNotification(&quot;closeAm&quot;, function(data){
    Window.close();
})
</code></pre> <hr> <h4 id="removenotification"><a href="#removenotification" class="header-anchor">#</a> <a name="18F"> removeNotification </a></h4> <p>移除通知</p> <pre><code>Window.removeNotification('notification')
</code></pre> <h5 id="params-14"><a href="#params-14" class="header-anchor">#</a> params</h5> <ul><li>name:通知名称</li></ul> <hr> <h4 id="copytopasteboard"><a href="#copytopasteboard" class="header-anchor">#</a> <a name="19F">copyToPasteboard</a></h4> <p>复制内容到系统剪贴板</p> <pre><code>Window.copyToPasteboard(string)
</code></pre> <h5 id="params-15"><a href="#params-15" class="header-anchor">#</a> params</h5> <ul><li>string:复制的内容</li></ul> <h4 id="exp"><a href="#exp" class="header-anchor">#</a> exp</h4> <pre><code>// js

function copy(){
    var lab = document.getElementById('lab1');
    var value = lab.attributeForName('value');
        Window.copyToPasteboard(value);
        alert(&quot;已复制 &quot; + value);
    }


//tml
    &lt;label value=&quot;TinyBuilder&quot; class=&quot;&quot; id=&quot;lab1&quot;/&gt;
    &lt;button value=&quot;复制&quot; class=&quot;btn_blue&quot; id=&quot;&quot; onclick=&quot;copy()&quot; /&gt;   
</code></pre> <hr> <h4 id="setstatusbar"><a href="#setstatusbar" class="header-anchor">#</a> <a name="20F"> setStatusBar </a></h4> <p>设置状态栏</p> <pre><code> var options = {
     &quot;backgroundColor&quot;: &quot;#ff0000&quot;
 }
 Window.setStatusBar(options);
</code></pre> <hr> <h4 id="firstlanguage"><a href="#firstlanguage" class="header-anchor">#</a> <a name="21F"> firstLanguage </a></h4> <p>获取手机语言</p> <pre><code>Window.firstLanguage(function(data){})
</code></pre> <hr> <h4 id="fileisexists"><a href="#fileisexists" class="header-anchor">#</a> <a name="22F"> fileIsExists </a></h4> <p>获取手机语言</p> <pre><code>Window.fileIsExists(fileName)
</code></pre> <h5 id="params-16"><a href="#params-16" class="header-anchor">#</a> params</h5> <ul><li>fileName:文件路径</li></ul> <hr> <h4 id="exitapp"><a href="#exitapp" class="header-anchor">#</a> <a name="23F"> exitApp </a></h4> <p>退出app</p> <pre><code>Window.exitApp()
</code></pre> <hr> <h4 id="getfilepath"><a href="#getfilepath" class="header-anchor">#</a> <a name="24F"> getfilePath </a></h4> <p>获取文件路径</p> <pre><code>Window.getfilePath(fileName)
</code></pre> <h5 id="params-17"><a href="#params-17" class="header-anchor">#</a> params</h5> <ul><li>fileName:文件名</li></ul> <hr> <h4 id="deletedir"><a href="#deletedir" class="header-anchor">#</a> <a name="25F"> deleteDir </a></h4> <p>删除当前路径下的文件</p> <pre><code>Window.deleteDir(filePath)
</code></pre> <h5 id="params-18"><a href="#params-18" class="header-anchor">#</a> params</h5> <ul><li>filePath:文件路径</li></ul> <hr> <h4 id="isimage"><a href="#isimage" class="header-anchor">#</a> <a name="26F"> isImage </a></h4> <p>图片是否损坏</p> <pre><code>Window.isImage(filePath)
</code></pre> <h5 id="params-19"><a href="#params-19" class="header-anchor">#</a> params</h5> <ul><li>filePath:图片路径</li></ul> <hr> <h4 id="getstatusbarheight"><a href="#getstatusbarheight" class="header-anchor">#</a> <a name="27F"> getStatusBarHeight </a></h4> <p>获取状态栏高度</p> <pre><code>Window.getStatusBarHeight()
</code></pre> <hr> <h4 id="startvibrate"><a href="#startvibrate" class="header-anchor">#</a> <a name="28F"> startVibrate </a></h4> <p>震动</p> <pre><code>Window.startVibrate(flag)
</code></pre> <h5 id="params-20"><a href="#params-20" class="header-anchor">#</a> params</h5> <ul><li>flag:true:一直震动, false:震动一次</li></ul> <hr> <h4 id="stopvibrate"><a href="#stopvibrate" class="header-anchor">#</a> <a name="29F"> stopVibrate </a></h4> <p>停止震动</p> <pre><code>Window.stopVibrate()
</code></pre> <hr> <h4 id="photo"><a href="#photo" class="header-anchor">#</a> <a name="30F">photo</a></h4> <p>选择本地相册</p> <pre><code>Window.photo(options, function(path){} ,function(cancel){});
</code></pre> <h5 id="params-21"><a href="#params-21" class="header-anchor">#</a> params</h5> <ul><li>options:json参数</li> <li>callback:返回本地图片路径</li></ul> <table class="table table-bordered table-striped table-condensed"><tr><td>options</td> <td>描述</td> <td>备注</td></tr> <tr><td>crop</td> <td>是否允许修改</td> <td>true:允许修改 false:不允许修改</td></tr> <tr><td>format</td> <td>图片格式 jpg png</td> <td></td></tr> <tr><td>height</td> <td>图片高度</td> <td></td></tr> <tr><td>width</td> <td>图片宽度</td> <td></td></tr> <tr><td>scale</td> <td>是否压缩到指定宽高</td> <td>true:压缩到指定宽高 false:根据设定的宽高的最大值，按比例压缩</td></tr> <tr><td>quality</td> <td>图片质量 0-100</td> <td></td></tr></table>
***
<h4 id="camera"><a href="#camera" class="header-anchor">#</a> <a name="31F">camera</a></h4> <p>照相机功能</p> <pre><code>Window.camera(options, function(path){},function(cancel){});
</code></pre> <h5 id="params-22"><a href="#params-22" class="header-anchor">#</a> params</h5> <ul><li>options:json参数,参考photo参数。</li> <li>callback:返回本地图片路径</li></ul> <hr> <h4 id="forward"><a href="#forward" class="header-anchor">#</a> <a name="32F">forward</a></h4> <p>前进一个页面</p> <pre><code>Window.forward();
</code></pre> <hr> <h4 id="backward"><a href="#backward" class="header-anchor">#</a> <a name="33F"> backward </a></h4> <p>后退</p> <pre><code>Window.backward();
</code></pre> <hr> <h4 id="closebottomads"><a href="#closebottomads" class="header-anchor">#</a> <a name="34F"> closeBottomAds </a></h4> <p>关闭广告页</p> <pre><code>Window.closeBottomAds();
</code></pre> <hr> <h4 id="closeopenads"><a href="#closeopenads" class="header-anchor">#</a> <a name="35F"> closeOpenAds </a></h4> <p>关闭广告页</p> <pre><code>Window.closeOpenAds();
</code></pre> <hr> <h4 id="getfiledata"><a href="#getfiledata" class="header-anchor">#</a> <a name="36F"> getFileData </a></h4> <p>图片base64编码</p> <pre><code>Window.getFileData(path);
</code></pre> <h5 id="params-23"><a href="#params-23" class="header-anchor">#</a> params</h5> <ul><li>path:图片路径</li></ul> <hr> <h4 id="getencryptfiledata"><a href="#getencryptfiledata" class="header-anchor">#</a> <a name="37F"> getEncryptFileData </a></h4> <p>读取本地文件</p> <pre><code>Window.getEncryptFileData(path);
</code></pre> <h5 id="params-24"><a href="#params-24" class="header-anchor">#</a> params</h5> <ul><li>path:文件路径</li></ul> <hr> <h4 id="encryptfile"><a href="#encryptfile" class="header-anchor">#</a> <a name="38F"> encryptFile </a></h4> <p>转出base64写到路径中</p> <pre><code>Window.encryptFile(path);
</code></pre> <h5 id="params-25"><a href="#params-25" class="header-anchor">#</a> params</h5> <ul><li>path:文件路径</li></ul> <hr> <h4 id="allcontact"><a href="#allcontact" class="header-anchor">#</a> <a name="39F">allContact</a></h4> <p>用于抓取通讯录所有联系人</p> <pre><code>Window.allContact(function (data){
//data 是抓取到的数据；
});
</code></pre> <p>如果要遍历抓取的所有联系人，可以采取如下方法</p> <pre><code>Window.allContact(function(data){
        for(var i=0;i&lt;data.length;i++){
            var id =data[i].id;
            var name =data[i].name;
            var phone= data[i].mobile;
//            var phone=json.phone;
            console.print('id====='+id);
            console.print('name==='+name);                
        for(var j=0;j&lt;phone.length;j++){
            console.print('phone'+j+'======'+phone[j]);
            }
        }
      });
</code></pre> <hr> <h4 id="contact"><a href="#contact" class="header-anchor">#</a> <a name="40F">contact</a></h4> <p>读取通讯录</p> <pre><code>Window.contact(function(opt){} ,function( ){});
</code></pre> <h5 id="params-26"><a href="#params-26" class="header-anchor">#</a> params</h5> <ul><li>opt.name：姓名</li> <li>opt.mobile：电话号码，是以数组形式存在的</li></ul> <p>使用方法：</p> <pre><code>Window.contact(function(opt) {
    console.log(opt.mobile);
    console.log(opt.name);        
}, function() {
});
</code></pre></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/Tags/system.html" class="prev">System</a></span> <span class="next"><a href="/Tags/navigator.html">Navigator</a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.ca606cee.js" defer></script><script src="/assets/js/2.a15a07d6.js" defer></script><script src="/assets/js/38.8c2729b4.js" defer></script>
  </body>
</html>
