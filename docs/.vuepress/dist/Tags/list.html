<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>list | Tiny3.0</title>
    <meta name="description" content="让移动开发更简单易用 高效 原生技术 极致体验">
    
    
    <link rel="preload" href="/tiny3.0/assets/css/0.styles.55d4e0d1.css" as="style"><link rel="preload" href="/tiny3.0/assets/js/app.8eb224ac.js" as="script"><link rel="preload" href="/tiny3.0/assets/js/2.a15a07d6.js" as="script"><link rel="preload" href="/tiny3.0/assets/js/21.2de78ef3.js" as="script"><link rel="prefetch" href="/tiny3.0/assets/js/10.ce8b04f9.js"><link rel="prefetch" href="/tiny3.0/assets/js/11.92d8c21c.js"><link rel="prefetch" href="/tiny3.0/assets/js/12.38d20174.js"><link rel="prefetch" href="/tiny3.0/assets/js/13.9cd0190c.js"><link rel="prefetch" href="/tiny3.0/assets/js/14.2b08de30.js"><link rel="prefetch" href="/tiny3.0/assets/js/15.44bf6da6.js"><link rel="prefetch" href="/tiny3.0/assets/js/16.8c549921.js"><link rel="prefetch" href="/tiny3.0/assets/js/17.b4eff11c.js"><link rel="prefetch" href="/tiny3.0/assets/js/18.95f3592e.js"><link rel="prefetch" href="/tiny3.0/assets/js/19.83a38f06.js"><link rel="prefetch" href="/tiny3.0/assets/js/20.fe6f415b.js"><link rel="prefetch" href="/tiny3.0/assets/js/22.c273b6cc.js"><link rel="prefetch" href="/tiny3.0/assets/js/23.cc928fb9.js"><link rel="prefetch" href="/tiny3.0/assets/js/24.7ff93635.js"><link rel="prefetch" href="/tiny3.0/assets/js/25.692f9079.js"><link rel="prefetch" href="/tiny3.0/assets/js/26.f78e95d4.js"><link rel="prefetch" href="/tiny3.0/assets/js/27.edfee609.js"><link rel="prefetch" href="/tiny3.0/assets/js/28.e3415c31.js"><link rel="prefetch" href="/tiny3.0/assets/js/29.7e756fe3.js"><link rel="prefetch" href="/tiny3.0/assets/js/3.33224c70.js"><link rel="prefetch" href="/tiny3.0/assets/js/30.874c1c99.js"><link rel="prefetch" href="/tiny3.0/assets/js/31.898704ff.js"><link rel="prefetch" href="/tiny3.0/assets/js/32.6e6912fc.js"><link rel="prefetch" href="/tiny3.0/assets/js/33.55736902.js"><link rel="prefetch" href="/tiny3.0/assets/js/34.b8baa6eb.js"><link rel="prefetch" href="/tiny3.0/assets/js/35.59dd8273.js"><link rel="prefetch" href="/tiny3.0/assets/js/36.080d382f.js"><link rel="prefetch" href="/tiny3.0/assets/js/37.b54b948b.js"><link rel="prefetch" href="/tiny3.0/assets/js/4.1c37bc38.js"><link rel="prefetch" href="/tiny3.0/assets/js/5.8d5058fd.js"><link rel="prefetch" href="/tiny3.0/assets/js/6.88e45044.js"><link rel="prefetch" href="/tiny3.0/assets/js/7.e8201afe.js"><link rel="prefetch" href="/tiny3.0/assets/js/8.f2eda253.js"><link rel="prefetch" href="/tiny3.0/assets/js/9.1ae99fc7.js">
    <link rel="stylesheet" href="/tiny3.0/assets/css/0.styles.55d4e0d1.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/tiny3.0/" class="home-link router-link-active"><!----> <span class="site-name">Tiny3.0</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/tiny3.0/" class="nav-link">主页</a></div><div class="nav-item"><a href="/tiny3.0/guide/" class="nav-link">文档中心</a></div><div class="nav-item"><a href="http://www.mtiny.cn/tiny/index.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  杭州长亮
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/tiny3.0/" class="nav-link">主页</a></div><div class="nav-item"><a href="/tiny3.0/guide/" class="nav-link">文档中心</a></div><div class="nav-item"><a href="http://www.mtiny.cn/tiny/index.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  杭州长亮
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Tags</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/tiny3.0/Tags/tml.html" class="sidebar-link">tml</a></li><li><a href="/tiny3.0/Tags/body.html" class="sidebar-link">body</a></li><li><a href="/tiny3.0/Tags/head.html" class="sidebar-link">head</a></li><li><a href="/tiny3.0/Tags/script.html" class="sidebar-link">script</a></li><li><a href="/tiny3.0/Tags/style.html" class="sidebar-link">style</a></li><li><a href="/tiny3.0/Tags/input.html" class="sidebar-link">input</a></li><li><a href="/tiny3.0/Tags/label.html" class="sidebar-link">label</a></li><li><a href="/tiny3.0/Tags/list.html" class="active sidebar-link">list</a></li><li><a href="/tiny3.0/Tags/scroller.html" class="sidebar-link">scroller</a></li><li><a href="/tiny3.0/Tags/paging.html" class="sidebar-link">paging</a></li><li><a href="/tiny3.0/Tags/image.html" class="sidebar-link">img</a></li><li><a href="/tiny3.0/Tags/select.html" class="sidebar-link">select</a></li><li><a href="/tiny3.0/Tags/webview.html" class="sidebar-link">webview</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>TinyJS</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>其他</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="list"><a href="#list" class="header-anchor">#</a> list</h2> <h3 id="_1-布局"><a href="#_1-布局" class="header-anchor">#</a> 1.布局</h3> <p>支持内部视图Flex布局，contentSize根据内部的视图自适应</p> <p>例如：</p> <div class="language- extra-class"><pre class="language-text"><code>&lt;list id=&quot;listview&quot; class=&quot;listview&quot; datas=&quot;{{list}}&quot; swipeAble=&quot;1&quot; refreshType=&quot;circle&quot; refreshTop=&quot;true&quot; refreshButtom=&quot;true&quot;&gt;
    &lt;template class=&quot;template&quot; templateType=&quot;cell1&quot;&gt;
        &lt;label class=&quot;layout1 cellcolor0_1&quot; value=&quot;{{value}}&quot; /&gt;
        &lt;label class=&quot;layout2 cellcolor0_2&quot; value=&quot;{{value}}&quot; /&gt;
    &lt;/template&gt;
    &lt;template class=&quot;template&quot; templateType=&quot;cell2&quot;&gt;
        &lt;label class=&quot;layout1 cellcolor1_1&quot; value=&quot;{{value}}&quot; /&gt;
        &lt;label class=&quot;layout2 cellcolor1_2&quot; value=&quot;{{value}}&quot; /&gt;
    &lt;/template&gt;
    &lt;template class=&quot;template&quot; templateType=&quot;cell3&quot;&gt;
        &lt;label class=&quot;layout1 cellcolor2_1&quot; value=&quot;{{value}}&quot; /&gt;
        &lt;label class=&quot;layout2 cellcolor2_1&quot; value=&quot;{{value}}&quot; /&gt;
    &lt;/template&gt;
    &lt;template class=&quot;header&quot; templateType=&quot;section1&quot;&gt;
        &lt;label class=&quot;sectionHeaderTitle sectioncolor1&quot; value=&quot;{{text}}&quot; /&gt;
    &lt;/template&gt;
    &lt;template class=&quot;header&quot; templateType=&quot;section2&quot;&gt;
        &lt;label class=&quot;sectionHeaderTitle sectioncolor2&quot; value=&quot;{{text}}&quot; /&gt;
    &lt;/template&gt;
    &lt;listHead class=&quot;listHead&quot; templateType=&quot;head&quot;&gt;
    &lt;/listHead&gt;
    &lt;listFooter class=&quot;listHead&quot; templateType=&quot;footer&quot;&gt;
    &lt;/listFooter&gt;
&lt;/list&gt;
</code></pre></div><h3 id="_2-方向"><a href="#_2-方向" class="header-anchor">#</a> 2.方向</h3> <p>垂直方向滚动，目前不支持水平方向滚动</p> <h3 id="_3-下拉刷新"><a href="#_3-下拉刷新" class="header-anchor">#</a> 3.下拉刷新</h3> <div class="language- extra-class"><pre class="language-text"><code>通过refreshTop控制是否需要添加下拉刷新功能
tml配置如下：
    &lt;list id=&quot;listview&quot; refreshTop=&quot;true&quot; /&gt; // 缺省值
    &lt;list id=&quot;listview&quot; refreshTop=&quot;false&quot; /&gt; 
js内部添加下拉刷新执行的事件:
$('listview').addEventListener('top', function(){
    $('listview').stopUpdate();
});
⚠️：下拉刷新执行的事件，在调用结束后需要调用$('listview').stopUpdate(),用以结束下拉刷新的状态
</code></pre></div><p>**
**</p> <h3 id="_4-上拉加载更多"><a href="#_4-上拉加载更多" class="header-anchor">#</a> 4.上拉加载更多</h3> <div class="language- extra-class"><pre class="language-text"><code>通过refreshBottom控制是否需要添加上拉加载功能
tml配置如下：
    &lt;list id=&quot;listview&quot; refreshBottom=&quot;true&quot; /&gt; // 缺省值
    &lt;list id=&quot;listview&quot; refreshBottom=&quot;false&quot; /&gt; 
js内部添加下拉刷新执行的事件:
$('listview').addEventListener('bottom', function(){
    $('listview').stopLoadMore();
});
⚠️：下拉刷新执行的事件，在调用结束后需要调用$('listview').stopLoadMore(),用以结束上拉加载的状态
</code></pre></div><h3 id="_5-list-头部视图"><a href="#_5-list-头部视图" class="header-anchor">#</a> 5.list 头部视图</h3> <div class="language- extra-class"><pre class="language-text"><code>&lt;list class=&quot;&quot; datas=&quot;&quot; &gt;
     &lt;listHead class=&quot;&quot;&gt;
          &lt;label class=&quot;&quot; value=&quot;1234&quot; /&gt;
          &lt;div class=&quot;&quot; /&gt;
          &lt;img class=&quot;&quot; src=&quot;&quot; /&gt;
     &lt;/listHead&gt;
&lt;/list&gt;
注释：listHead 支持数据绑定，listHead在UI上会解析成Div,原则上&lt;listHead    /&gt;在list内部只会出现一次
</code></pre></div><h3 id="_6-list-尾部视图"><a href="#_6-list-尾部视图" class="header-anchor">#</a> 6.list 尾部视图</h3> <div class="language- extra-class"><pre class="language-text"><code>&lt;list class=&quot;&quot; datas=&quot;&quot; &gt;
     &lt;listFooter&gt;
          &lt;label class=&quot;&quot; value=&quot;1234&quot; /&gt;
          &lt;div class=&quot;&quot; /&gt;
          &lt;img class=&quot;&quot; src=&quot;&quot; /&gt;
     &lt;/listFooter&gt;
&lt;/list&gt;
注释：listFooter 支持数据绑定，listFooter在UI上会解析成Div,原则上&lt;listFooter    /&gt;在list内部只会出现一次
</code></pre></div><h3 id="_7-cell单元格-分组头sectionheader-分组尾sectionfooter"><a href="#_7-cell单元格-分组头sectionheader-分组尾sectionfooter" class="header-anchor">#</a> 7.cell单元格/分组头sectionHeader/分组尾sectionFooter</h3> <div class="language- extra-class"><pre class="language-text"><code>&lt;list class=&quot;listview&quot; datas=&quot;{{list}}&quot; &gt;
     &lt;template class=&quot;&quot;, templateType=&quot;cell&quot;&gt;
          &lt;label class=&quot;&quot; value=&quot;1234&quot; /&gt;
     &lt;/template&gt;
     &lt;template class=&quot;&quot;, templateType=&quot;header&quot;&gt;
          &lt;img class=&quot;&quot; src=&quot;&quot; /&gt;
          &lt;label class=&quot;&quot; value=&quot;1234&quot; /&gt;
     &lt;/template&gt;
     &lt;template class=&quot;&quot;, templateType=&quot;footer&quot;&gt;
          &lt;img class=&quot;&quot; src=&quot;&quot; /&gt;
     &lt;/template&gt;
&lt;/list&gt;
注释：
1 template标签来描述可以被复用的UI，例如单元格/分组的头/分组的尾
2 templateType属性描述了template应该被那种数据复用，例如：
  templateType=&quot;cell&quot; 被单元格cell复用
  templateType=&quot;header&quot; 被分组的头复用
  templateType=&quot;footer&quot; 被分组的尾复用
</code></pre></div><h3 id="_8-数据绑定"><a href="#_8-数据绑定" class="header-anchor">#</a> 8.数据绑定</h3> <p>Example1:</p> <blockquote><div class="language- extra-class"><pre class="language-text"><code>var DATA ={ 
    list = [{reuse_id:'demo',value:'text1',person:{name:'jack'}},
            {reuse_id:'demo',value:'text2',person:{name:'jerry'}},
            {reuse_id:'demo',value:'text3',person:{name:'tom'}}]
}
&lt;list id=&quot;listview&quot; datas=&quot;{{list}}&quot; refreshBottom=&quot;false&quot;&gt;
    &lt;template templateType=&quot;demo&quot;&gt;
         &lt;label value=&quot;{{item.value}}&quot; /&gt;
         &lt;label value=&quot;{{item.person.name}}&quot; /&gt;
    &lt;template&gt;
&lt;/list&gt;
</code></pre></div></blockquote> <p>Example2:</p> <blockquote><div class="language- extra-class"><pre class="language-text"><code>var DATA={
   list:[{header:{reuse_id:'section1',text:'index section 0'},
          datas:[{reuse_id:'cell1',value:'index 0-0'}]
       }]
}
&lt;list id=&quot;listview&quot; datas=&quot;{{list}}&quot; refreshBottom=&quot;false&quot;&gt;
    &lt;template templateType=&quot;cell1&quot;&gt;
         &lt;label value=&quot;{{item.datas.item.value}}&quot; /&gt;
    &lt;template&gt;
    &lt;template templateType=&quot;section1&quot;&gt;
         &lt;label value=&quot;{{item.header.text}}&quot; /&gt;
    &lt;template&gt;
&lt;/list&gt;
</code></pre></div></blockquote> <div class="language- extra-class"><pre class="language-text"><code>注释：
1 Example1 描述了非分组数据的绑定，Example2 描述了分组数据的绑定，
2 item: 表明需要到数组里面通过下标去获取当前的元素的值，如Example1里面
 &lt;label value=&quot;{{item.value}}&quot; /&gt;，需要到list里面通过label所在的cell索引去获取元素，获取到元素是个对象，对象里面有value这个property
</code></pre></div><h3 id="_9-list-数据格式"><a href="#_9-list-数据格式" class="header-anchor">#</a> 9.list 数据格式</h3> <p>分组数据格式：</p> <blockquote><div class="language- extra-class"><pre class="language-text"><code>list:[{header:{reuse_id:'section1',text:'index section 0'},datas:[{reuse_id:'cell1',value:'index 0-0'},{reuse_id:'cell1',value:'index 0-1'},{reuse_id:'cell1',value:'index 0-2'}]},{footer:{reuse_id:'section1',text:'index section 2'},datas:[{reuse_id:'cell3',value:'index 2-0'},{reuse_id:'cell3',value:'index 2-1'},{reuse_id:'cell3',value:'index 2-2'}]}]
</code></pre></div></blockquote> <p>非分组数据格式</p> <blockquote><div class="language- extra-class"><pre class="language-text"><code>list:[{reuse_id:'cell0',first:'0-1',second:'0----1'},{reuse_id:'cell2',first:'0-2',second:'0----2'},{reuse_id:'cell4',first:'0-4',second:'0----4'},{reuse_id:'cell5',first:'0-6',second:'0----6'},{reuse_id:'cell5',first:'0-7',second:'0----7'}]
</code></pre></div></blockquote> <p>注释：
分组样式下：</p> <blockquote><div class="language- extra-class"><pre class="language-text"><code>header：描述了分组sectionHeader的数据
footer：描述了分组sectionFooter的数据
datas: 描述了每一个分组里面有多少个单元格，单元的数据
</code></pre></div></blockquote> <p>非分组样式下：</p> <blockquote><div class="language- extra-class"><pre class="language-text"><code>list就描述了有多少单元格，单元格的数据，类似分组模式下的datas
</code></pre></div></blockquote> <div class="language- extra-class"><pre class="language-text"><code>⚠️：list 会根据传入的数据来判断是否需要使用分组数据，如果需要使用分组，请确保list数组的首元素符合分组数据的标准
⚠️：reuse_id 复用标识符不能为空
⚠️：reuse_id 和 templateType 相对应，复用的核心就是匹配二者的值
</code></pre></div><h3 id="_10-addeventlistener-事件"><a href="#_10-addeventlistener-事件" class="header-anchor">#</a> 10.addEventListener 事件</h3> <p>10.1 上拉加载事件</p> <blockquote><div class="language- extra-class"><pre class="language-text"><code>$('viewid').addEventListener('bottom', function(){
     // do some thing, after finished load more, need call $('listview').stopLoadMore();
});
</code></pre></div></blockquote> <p>10.2 下拉刷新事件</p> <blockquote><div class="language- extra-class"><pre class="language-text"><code>$('viewid').addEventListener('top', function(){
     // do some thing, after finished update, need call $('listview').stopUpdate();
});
</code></pre></div></blockquote> <p>10.3 单元格点击事件</p> <blockquote><div class="language- extra-class"><pre class="language-text"><code>$('viewid').addEventListener('select', function(section,  row){
     // do something 
});
section 分组索引：非分组模式返回固定值0，row单元格的索引
</code></pre></div></blockquote> <h3 id="_11-list-开放给js的接口api"><a href="#_11-list-开放给js的接口api" class="header-anchor">#</a> 11.list 开放给js的接口Api</h3> <p>11.1 结束下拉刷新</p> <blockquote><div class="language- extra-class"><pre class="language-text"><code>方法名：stopUpdate();
参数：null
</code></pre></div></blockquote> <p>11.2 结束上拉加载</p> <blockquote><div class="language- extra-class"><pre class="language-text"><code>方法名：stopLoadMore();
参数：null
</code></pre></div></blockquote> <p>11.3 前面拼接数据</p> <blockquote><div class="language- extra-class"><pre class="language-text"><code>方法名：appendDataToFront(datas);
参数：datas为数组类型
</code></pre></div></blockquote> <p>11.4 后面拼接数据</p> <blockquote><div class="language- extra-class"><pre class="language-text"><code>方法名：appendDataToBack(datas);
参数：datas为数组类型
</code></pre></div></blockquote> <p>11.5 指定分组添加数据</p> <blockquote><div class="language- extra-class"><pre class="language-text"><code>方法名：appendCellData(object,  section, row);
参数：object单元格数据，应该是一个对象，section分组索引，row单元格索引
</code></pre></div></blockquote> <p>11.6 删除分组数据</p> <blockquote><div class="language- extra-class"><pre class="language-text"><code>方法名：removeDataAtSection(section);
参数：section分组索引
</code></pre></div></blockquote> <p>11.7 删除分组里面的某条数据</p> <blockquote><div class="language- extra-class"><pre class="language-text"><code>方法名：removeData(section,  row);
参数：section分组索引，row单元格行索引
</code></pre></div></blockquote> <h3 id="_12-侧滑"><a href="#_12-侧滑" class="header-anchor">#</a> 12.侧滑</h3> <p>Tml 配置属性：</p> <div class="language- extra-class"><pre class="language-text"><code>&lt;list swipeAble=&quot;1&quot;, swipeImage=&quot;imageurl&quot;, swipeText=&quot;buttonName&quot; /&gt;
swipeAble: 侧滑开关, &gt;=1开启， =0关闭
swipeImage: 按钮图标
swipeText: 按钮标题
</code></pre></div><p>支持配置的css样式：</p> <div class="language- extra-class"><pre class="language-text"><code>swipe-font-color：字体颜色
swipe-font-size: 字体大小
swipe-font-family: 字体名称
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/tiny3.0/Tags/label.html" class="prev">label</a></span> <span class="next"><a href="/tiny3.0/Tags/scroller.html">scroller</a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/tiny3.0/assets/js/app.8eb224ac.js" defer></script><script src="/tiny3.0/assets/js/2.a15a07d6.js" defer></script><script src="/tiny3.0/assets/js/21.2de78ef3.js" defer></script>
  </body>
</html>
