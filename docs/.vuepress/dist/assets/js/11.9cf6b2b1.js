(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{215:function(t,a,e){"use strict";e.r(a);var r=e(0),s=Object(r.a)({},(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h2",{attrs:{id:"营销广告页"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#营销广告页"}},[t._v("#")]),t._v(" 营销广告页")]),t._v(" "),e("h3",{attrs:{id:"配置文件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#配置文件"}},[t._v("#")]),t._v(" 配置文件")]),t._v(" "),e("h5",{attrs:{id:"目录结构"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#目录结构"}},[t._v("#")]),t._v(" 目录结构")]),t._v(" "),e("p",[t._v("公共跳转目标配置文件pubPagecol.xml，存放于项目根目录/config/pageControls 中。\n营销管理前端代码单独存放于项目根目录/advert中。")]),t._v(" "),e("h5",{attrs:{id:"配置文件规则"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#配置文件规则"}},[t._v("#")]),t._v(" 配置文件规则")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('<advertPaths>\n    <advertBottom>//  path标签换名\n        <advertPath ty:if="DATA.successCode==1" boardUrl="pageA.tml,pageB.tml"  url="advertTml.tml" class=""/>\x3c!--if 语句里判断条件可以从跳转前的界面的DATA中取 计划是需要加入界面名称判断（需要数据绑定支持记录界面名称） 只在某些业务成功码获得后，以及特定的几个界面才会有营销广告页--\x3e\n        <advertPath ty:if=""  boardUrl="" url="" class=""/>\n        <advertPath ty:elif="" boardUrl="" url="" class=""/>\n        <advertPath ty:else="" boardUrl="" url="" class=""/>\x3c!--else 劲量不要写，否则会有太多界面会有营销界面 或者Url不要写--\x3e\n    </advertBottom>\n    <advertOpen>\n        <advertPath ty:if=""  boardUrl="" url="" class=""/>\n        <advertPath ty:elif="" boardUrl="" url="" class=""/>\n        <advertPath ty:else="" boardUrl="" url="" class=""/>\n    </advertOpen>\n</advertPaths>\n\n1.if 语句里判断条件从数据绑定中获取,只在某些业务成功码获得后，以及特定的几个界面才会有营销广告页。\n如果else中 boardUrl 为空则不显示。 \n\n2. boardUrl 需要加入营销view的界面的名称。\n\n3.advertBottom代表底部营销页面，\nadvertOpen代表弹窗营销页面，\nclass指向了跳转配置文件pageControlConfig.xml中的页面展示规则,\n需要注意的是，advertBottom指向的跳转配置需要指定view高度height.\n\n4.营销广告片段view判断条件所用的数据为跳转前上一界面的DATA.中的数据。\n5.限制条件正常open出来的界面没有营销广告界面。\n\n\n\npageControlConfig.xml示例\n公共的跳转配置中增加<advertBottom><advertOpen>\n\n<config>\n    <forward  class="default"  hidesTabBar="true"  hidesStatusBar="true" disableGestureBack="false" animate="slideFromRight"/>\n    <forward  class="push"  hidesTabBar="false"  hidesStatusBar="true"/>\n    <forward  class="open"  pageType ="open"/>\n    <forward  class="present"  pageType ="frame"  animate ="slideFromRight" closePrevious="true"/>\n    \n    <backward class="default"/>\n    <backward class="close" pageType="open"/>\n    <backward class="dismiss" pageType="frame" animate="slideFromBottom"/>\n    \n    <advertBottom  class="adBottom" height="45"  animate="slideFromRight"      />\x3c!--高支持百分比 宽度全屏--\x3e\n    <advertOpen     class="adOpen" height="61.8%" width="230"  animate="slideFromRight" />\x3c!--宽高支持百分比 --\x3e\n    \n</config>\n\n')])])]),e("h3",{attrs:{id:"错误码"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#错误码"}},[t._v("#")]),t._v(" 错误码")]),t._v(" "),e("p",[t._v("营销广告页的错误码以31开头")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("错误代码")]),t._v(" "),e("th",[t._v("详细信息")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("31000")]),t._v(" "),e("td",[t._v("正确无误")])]),t._v(" "),e("tr",[e("td",[t._v("31001")]),t._v(" "),e("td",[t._v("无公共营销配置文件")])]),t._v(" "),e("tr",[e("td",[t._v("31002")]),t._v(" "),e("td",[t._v("逻辑表达式有误")])]),t._v(" "),e("tr",[e("td",[t._v("31003")]),t._v(" "),e("td",[t._v("没有找到匹配的界面")])]),t._v(" "),e("tr",[e("td",[t._v("31004")]),t._v(" "),e("td",[t._v("无跳转效果配置文件")])])])])])}),[],!1,null,null,null);a.default=s.exports}}]);