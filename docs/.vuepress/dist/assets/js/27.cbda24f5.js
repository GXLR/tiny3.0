(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{228:function(t,a,e){"use strict";e.r(a);var r=e(0),v=Object(r.a)({},(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h2",{attrs:{id:"页面流"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#页面流"}},[t._v("#")]),t._v(" 页面流")]),t._v(" "),e("h3",{attrs:{id:"配置文件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#配置文件"}},[t._v("#")]),t._v(" 配置文件")]),t._v(" "),e("hr"),t._v(" "),e("h4",{attrs:{id:"目录结构"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#目录结构"}},[t._v("#")]),t._v(" 目录结构")]),t._v(" "),e("h5",{attrs:{id:"跳转目标配置文件：xxxxpagecol-xml"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#跳转目标配置文件：xxxxpagecol-xml"}},[t._v("#")]),t._v(" 跳转目标配置文件：xxxxPagecol.xml")]),t._v(" "),e("p",[t._v("每个界面都有一个与之对应的xxxxPagecol.xml 用于配置界面流。目录与界面同级。")]),t._v(" "),e("h5",{attrs:{id:"跳转配置文件：pagecontrolconfig-xml"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#跳转配置文件：pagecontrolconfig-xml"}},[t._v("#")]),t._v(" 跳转配置文件：pageControlConfig.xml")]),t._v(" "),e("p",[t._v("跳转效果也配置pageControlConfig.xml也存放于项目根目录/config/pageControls 中")]),t._v(" "),e("h5",{attrs:{id:"营销管理配置：pubpagecol-xml"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#营销管理配置：pubpagecol-xml"}},[t._v("#")]),t._v(" 营销管理配置：pubPagecol.xml")]),t._v(" "),e("p",[t._v("跳转效果也配置pubPagecol.xml也存放于项目根目录/config/pageControls 中")]),t._v(" "),e("h4",{attrs:{id:"配置文件规则"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#配置文件规则"}},[t._v("#")]),t._v(" 配置文件规则")]),t._v(" "),e("h5",{attrs:{id:"配置界面跳转效果-pagecontrolconfig-xml"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#配置界面跳转效果-pagecontrolconfig-xml"}},[t._v("#")]),t._v(" 配置界面跳转效果 pageControlConfig.xml")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('<config>\n   <forward  class="push" pageType="page" animate="slideFromRight" hidesTabBar="true" hideSafeArea="true" hidesStatusBar="true" startX="" startY="" delay=""/>\n   <forward  class="present" pageType="frame" animate="slideFromRight" closePrevious="false" disableGestureBack="true"/>\n   <forward  class="open" pageType="open" width="" height="" animate="slideFromBottom"/>\n   <forward  class="default" pageType="page" animate="slideFromRight" hidesTabBar="true" hideSafeArea="true" hidesStatusBar="true" startX="" startY="" delay=""/>\n   <backward  class="pop" pageType="page" animate="slideFromRight" delay=""/>\n   <backward  class="dismiss" pageType="frame" animate="slideFromRight"/>\n   <backward  class="close" pageType="open" animate="slideFromBottom"/>\n   <backward  class="default" pageType="page" animate="slideFromRight" delay=""/>\n</config>\n')])])]),e("h5",{attrs:{id:"前向跳转效果"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#前向跳转效果"}},[t._v("#")]),t._v(" 前向跳转效果")]),t._v(" "),e("p",[t._v("普通界面跳转 （push）")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("参数")]),t._v(" "),e("th",[t._v("取值")]),t._v(" "),e("th",[t._v("取值")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("pageType")]),t._v(" "),e("td",[t._v("page(默认可不写)")]),t._v(" "),e("td",[t._v("界面类型")])]),t._v(" "),e("tr",[e("td",[t._v("animate")]),t._v(" "),e("td",[t._v("default、none、slideFromTop、slideFromBottom、slideFromLeft、slideFromRight、slideFromIn")]),t._v(" "),e("td",[t._v("过渡动画类型")])]),t._v(" "),e("tr",[e("td",[t._v("disableGestureBack")]),t._v(" "),e("td",[t._v("true/false")]),t._v(" "),e("td",[t._v("是否禁用手势(push)")])]),t._v(" "),e("tr",[e("td",[t._v("hideSafeArea")]),t._v(" "),e("td",[t._v("true/false")]),t._v(" "),e("td",[t._v("是否隐藏安全区(push)")])]),t._v(" "),e("tr",[e("td",[t._v("hidesTabBar")]),t._v(" "),e("td",[t._v("true/false")]),t._v(" "),e("td",[t._v("是否隐藏状态栏tabbar(push)")])]),t._v(" "),e("tr",[e("td",[t._v("hidesStatusBar")]),t._v(" "),e("td",[t._v("true/false")]),t._v(" "),e("td",[t._v("是否隐藏状态栏（push)")])]),t._v(" "),e("tr",[e("td",[t._v("startX")]),t._v(" "),e("td",[t._v("float")]),t._v(" "),e("td",[t._v("跳转坐标X")])]),t._v(" "),e("tr",[e("td",[t._v("startY")]),t._v(" "),e("td",[t._v("float")]),t._v(" "),e("td",[t._v("跳转坐标Y")])]),t._v(" "),e("tr",[e("td",[t._v("delay")]),t._v(" "),e("td",[t._v("int")]),t._v(" "),e("td",[t._v("延迟跳转,单位ms")])])])]),t._v(" "),e("p",[t._v("跳转框架界面 （ <frame>  present）")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("参数")]),t._v(" "),e("th",[t._v("取值")]),t._v(" "),e("th",[t._v("取值")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("pageType")]),t._v(" "),e("td",[t._v("frame")]),t._v(" "),e("td",[t._v("框架")])]),t._v(" "),e("tr",[e("td",[t._v("animate")]),t._v(" "),e("td",[t._v("default,none,slideFromBottom, slideFromLeft, slideFromRight, slideFromTop")]),t._v(" "),e("td",[t._v("执行的动画类型")])]),t._v(" "),e("tr",[e("td",[t._v("closePrevious")]),t._v(" "),e("td",[t._v("true/false")]),t._v(" "),e("td",[t._v("是否在跳转框架后移除前面的界面（建议移除，否则会有内存问题）。")])])])]),t._v(" "),e("p",[t._v("弹窗界面 (open)")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("参数")]),t._v(" "),e("th",[t._v("取值")]),t._v(" "),e("th",[t._v("取值")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("pageType")]),t._v(" "),e("td",[t._v("open")]),t._v(" "),e("td",[t._v("如果是open界面则必须填写此参数 取值为true")])]),t._v(" "),e("tr",[e("td",[t._v("width")]),t._v(" "),e("td",[t._v("float")]),t._v(" "),e("td",[t._v("页面宽度，支持百分比，为暂用当前屏幕的百分比")])]),t._v(" "),e("tr",[e("td",[t._v("height")]),t._v(" "),e("td",[t._v("float")]),t._v(" "),e("td",[t._v("页面高度，支持百分比，为暂用当前屏幕的百分比")])]),t._v(" "),e("tr",[e("td",[t._v("animate")]),t._v(" "),e("td",[t._v("popShake(默认 视图抖动形式), none，slideFromBottom(从底部进入视图)，slideFromTop(从头部进入视图)，slideFromLeft, slideFromRight, scaleFromTopRight(从头部右上角进入视图), scaleFromBottomRight(从底部右下角进入视图)")]),t._v(" "),e("td",[t._v("动画类型")])])])]),t._v(" "),e("h5",{attrs:{id:"back跳转效果"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#back跳转效果"}},[t._v("#")]),t._v(" back跳转效果")]),t._v(" "),e("h6",{attrs:{id:"普通出栈pop-back"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#普通出栈pop-back"}},[t._v("#")]),t._v(" 普通出栈pop(back)")]),t._v(" "),e("p",[t._v("普通pop只有一种效果只需")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v(' <backward class="default" />\n')])])]),e("h6",{attrs:{id:"open界面close"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#open界面close"}},[t._v("#")]),t._v(" open界面close")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v(' <backward class="close" pageType="open"/>\n')])])]),e("h6",{attrs:{id:"frame-框架-dismiss"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#frame-框架-dismiss"}},[t._v("#")]),t._v(" frame 框架 dismiss")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("参数")]),t._v(" "),e("th",[t._v("取值")]),t._v(" "),e("th",[t._v("取值")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("pageType")]),t._v(" "),e("td",[t._v("frame")]),t._v(" "),e("td",[t._v("框架")])]),t._v(" "),e("tr",[e("td",[t._v("animate")]),t._v(" "),e("td",[t._v("default,none,slideFromBottom, slideFromLeft, slideFromRight, slideFromTop")]),t._v(" "),e("td",[t._v("动画效果")])])])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v(' <backward class="classC" pageType="frame" animate="slideFromBottom"/>\n\n')])])]),e("h5",{attrs:{id:"普通模块存放界面流配置的-xxxxpagecol-xml"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#普通模块存放界面流配置的-xxxxpagecol-xml"}},[t._v("#")]),t._v(" 普通模块存放界面流配置的 xxxxPagecol.xml")]),t._v(" "),e("p",[t._v("每个界面都有一个与之对应的xxxxPagecol.xml 用于配置界面流。目录与界面同级。")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('<paths>\n\n    <forward>\n\n        <path ty:if="DATA.state==1&&DATA.name==\'kern\'" url="page/start/start.tml" class=""/> \x3c!-- ddefaultefault效果 class 可以不写   class找不到会使用default--\x3e\n\n        <path ty:if="DATA.state==2&&DATA.name==\'kern\'" url="page/home/notification/notification.tml" class="pushClassA"/>\n\n        <path ty:elif="!(DATA.userId==28||DATA.useId==1)" url="page/nav2.xml" class="frameClass"/>\n\n        <path ty:elif="DATA.state==90" url="page/openPage.xml" class="openClass"/>\n\n        <path ty:else="" url="page3.tml"/>\n\n    </forward>\n\n    <backward>\n\n        <path ty:if="DATA.persons.length==5" /> \x3c!-- ddefaultefault效果 class 可以不写   class找不到会使用default  url不写默认返回上一界面 --\x3e\n\n        <path ty:elif="DATA.number==7" url="start" /> \x3c!--back的时候 url只需要填界面名称 因为界面已经在栈内，标记Id为界面名称（xxx.tml 名称为 xxx） --\x3e\n\n        <path ty:elif="DATA.number==6" class="frameClass"/>\n\n        <path ty:else="" class="openClass" />\n\n    </backward>\n\n</paths>\n\n\n\n\n每个界面都会包含一个界面流配置文件\n格式：(页面名+Pagecol).xml   例：registerPagecol.xml\n\n跳转配置\n最外层为根节点<paths></paths>\n前向跳转使用<forward></forward>\n后退返回<backward></backward>\n\n\n')])])]),e("h5",{attrs:{id:"属性："}},[e("a",{staticClass:"header-anchor",attrs:{href:"#属性："}},[t._v("#")]),t._v(" 属性：")]),t._v(" "),e("p",[t._v("####1 判断跳转的条件 条件语句:if,else if ,else")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('ty:if=""\nty:elif=""\nty:else=""\n\n\n例子：ty:if="code==3||(state==1&&(varA>0))"\n     ty:elif="code==3||(state==1&&(varA>0))"\n     ty:else="code==3||(state==1&&(varA>0))"\n\n组成部分：1 参数：必须存储在数据绑定的xxxData.js\n         2 运算符：==,+,-,*,/,%,&&,||,!,(),>,<,>=,<=\n         \n          \n上面的例子中 code,state,varA为参数 存在每张界面中的xxxdata.js中\n\n条件语句不写则为直接跳转 (只适合于只有一种无条件跳转)例：\n<forward>\n<path url="main.tml" config="configKey1"/> \x3c!--直接跳转界面 使用configKey1效果--\x3e。\n</forward>\n\n<backward>\n<path/>  \x3c!--直接返回上层界面 使用default--\x3e。\n</backward>\n\nconfig属性不写则使用 pageControConfigMap中key为default的配\n置，例子：\npush:\n--------\n<forward>\n  <path ty:if="code!=2" url="page1.tml"/>\n</forward>\n--------\npop:\n--------\n<backward>\n  <path url="page1.tml"/>\n</backward>\n--------\n')])])]),e("p",[t._v("支持的运算符")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("运算符")]),t._v(" "),e("th",[t._v("逻辑意义")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("==")]),t._v(" "),e("td",[t._v("等于")])]),t._v(" "),e("tr",[e("td",[t._v("+")]),t._v(" "),e("td",[t._v("算数加")])]),t._v(" "),e("tr",[e("td",[t._v("-")]),t._v(" "),e("td",[t._v("算数减")])]),t._v(" "),e("tr",[e("td",[t._v("*")]),t._v(" "),e("td",[t._v("算数乘")])]),t._v(" "),e("tr",[e("td",[t._v("/")]),t._v(" "),e("td",[t._v("算数除 （整数为整除，有小数为浮点数 ）")])]),t._v(" "),e("tr",[e("td",[t._v("%")]),t._v(" "),e("td",[t._v("算数模除")])]),t._v(" "),e("tr",[e("td",[t._v("&&")]),t._v(" "),e("td",[t._v("逻辑与")])]),t._v(" "),e("tr",[e("td",[t._v("||")]),t._v(" "),e("td",[t._v("逻辑或")])]),t._v(" "),e("tr",[e("td",[t._v("！")]),t._v(" "),e("td",[t._v("逻辑非")])]),t._v(" "),e("tr",[e("td",[t._v("（）")]),t._v(" "),e("td",[t._v("括号优先级")])]),t._v(" "),e("tr",[e("td",[t._v(">")]),t._v(" "),e("td",[t._v("大于")])]),t._v(" "),e("tr",[e("td",[t._v("<")]),t._v(" "),e("td",[t._v("小于")])]),t._v(" "),e("tr",[e("td",[t._v(">=")]),t._v(" "),e("td",[t._v("大于等于")])]),t._v(" "),e("tr",[e("td",[t._v("<=")]),t._v(" "),e("td",[t._v("小于等于")])])])]),t._v(" "),e("h4",{attrs:{id:"目标界面：url"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#目标界面：url"}},[t._v("#")]),t._v(" 目标界面：url")]),t._v(" "),e("p",[t._v("url为界面名，界面名需要独一无二  如login.tml")]),t._v(" "),e("h4",{attrs:{id:"跳转效果配置-config"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#跳转效果配置-config"}},[t._v("#")]),t._v(" 跳转效果配置 config")]),t._v(" "),e("p",[t._v("值为配置在pageControConfig.json 中效果的key\n不配置则默认取pageControConfig 中的default效果(backward , forward)")]),t._v(" "),e("h3",{attrs:{id:"前端调用方法"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#前端调用方法"}},[t._v("#")]),t._v(" 前端调用方法")]),t._v(" "),e("hr"),t._v(" "),e("p",[t._v("前向跳转\nWindow.forward(callback)")]),t._v(" "),e("p",[t._v("反向后退\nWindow.backward(callback)")]),t._v(" "),e("h4",{attrs:{id:"更新方式"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#更新方式"}},[t._v("#")]),t._v(" 更新方式")]),t._v(" "),e("p",[t._v("采用资源更新方式，资源更新后优先读取资源更新的目录。")]),t._v(" "),e("h3",{attrs:{id:"成功及错误码"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#成功及错误码"}},[t._v("#")]),t._v(" 成功及错误码")]),t._v(" "),e("hr"),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("错误代码")]),t._v(" "),e("th",[t._v("详细信息")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("30000")]),t._v(" "),e("td",[t._v("正确无误")])]),t._v(" "),e("tr",[e("td",[t._v("30001")]),t._v(" "),e("td",[t._v("无配置文件")])]),t._v(" "),e("tr",[e("td",[t._v("30002")]),t._v(" "),e("td",[t._v("逻辑表达式有误")])]),t._v(" "),e("tr",[e("td",[t._v("30003")]),t._v(" "),e("td",[t._v("没有找到匹配的界面")])]),t._v(" "),e("tr",[e("td",[t._v("30004")]),t._v(" "),e("td",[t._v("无跳转效果配置文件")])]),t._v(" "),e("tr",[e("td",[t._v("30005")]),t._v(" "),e("td",[t._v("未找到符合的条件")])])])])])}),[],!1,null,null,null);a.default=v.exports}}]);