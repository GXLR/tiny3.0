(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{222:function(t,e,a){"use strict";a.r(e);var l=a(0),n=Object(l.a)({},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"mvvm数据绑定"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mvvm数据绑定"}},[t._v("#")]),t._v(" mvvm数据绑定")]),t._v(" "),a("h3",{attrs:{id:"新增页面数据文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#新增页面数据文件"}},[t._v("#")]),t._v(" 新增页面数据文件")]),t._v(" "),a("p",[t._v('每个tml文件对应一个数据文件，定义tml的Model数据。文件名采用"页面名Data.js"的命名格式。比如login.tml，对应数据文件为loginData.js。')]),t._v(" "),a("p",[t._v("在数据文件中，支持js方法调用。")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("支持多语言函数Window.lang(key)")])]),t._v(" "),a("li",[a("p",[t._v("原有loadValue(key, false) 替换为**$pub.key**")])]),t._v(" "),a("li",[a("p",[t._v("原有loadValue(key, true) 替换为**$local.key**")])])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('var DATA = {\n    name: "jerry",\n    pubData :"$pub.name"\n    cocalData : "$local.token"\n    country: "china",\n    age:"11",\n    title:Window.lang("name"),\n    info: { age: 12, sex: "man" },\n    color: ["yellow", "red", "blue"],\n    color: ["yellow", "red", "blue"],\n    Days: [\n        { "name": "Monday", "value": "0" },\n        { "name": "Tuesday", "value": "1" },\n        { "name": "Wednesday", "value": "2" },\n        { "name": "Thursday", "value": "3" },\n        { "name": "Friday", "value": "4" },\n        { "name": "Saturday", "value": "5" },\n        { "name": "Sunday", "value": "6" }\n    ],\n    index:0,\n    lang:Window.lange("helloword")\n};\n')])])]),a("h3",{attrs:{id:"页面绑定说明"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#页面绑定说明"}},[t._v("#")]),t._v(" 页面绑定说明")]),t._v(" "),a("p",[t._v("tml中支持属性、node绑定，采用模版表达式"+t._s(t.key)+"。key值支持属性、对象属性、数组。\n原有的多语言表达式${key}，继续采用。")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('\t<label value = "{{name}}">\n\t\n\t<label value = "{{Days[1].name}}">\n\n\t<label value = "{{colors[0]}}">\n\t\n\t<text>{{country}}</text>\n\n')])])]),a("h3",{attrs:{id:"js-api"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#js-api"}},[t._v("#")]),t._v(" JS API")]),t._v(" "),a("h4",{attrs:{id:"vm"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vm"}},[t._v("#")]),t._v(" vm")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("描述")]),t._v(" "),a("p",[t._v("新增vm内置对象，提供数据绑定，数据赋值功能.")])]),t._v(" "),a("li",[a("p",[t._v("方法")])])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"left"}},[t._v("方法")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("描述")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("参数")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("vm.setData()")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("数据更新。调用方法，更新视图")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}})])])]),t._v(" "),a("p",[t._v("参考案例")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('function protoc() {\n   data.info.age = 30;\n   vm.setData()\n}\n\nfunction confirm() {\n\n   data.name = "sun"\n   data.color[0] = "green"\n   \n   vm.setData()\n}\n')])])]),a("h4",{attrs:{id:"禁用-api"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#禁用-api"}},[t._v("#")]),t._v(" 禁用 API")]),t._v(" "),a("p",[t._v("禁用下列API，js通过Model设置或获取值。")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"left"}},[t._v("方法")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("描述")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("状态")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("setValue")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("设置Value值")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("禁用")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("getValue")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("获取Value值")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("禁用")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("setAttribute")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("设置属性值")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("禁用")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("getAttribute")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("获取属性值")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("禁用")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("saveValue")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("储存全局数据")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("禁用")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("loadValue")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("获取全局数据")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("禁用")])])])])])}),[],!1,null,null,null);e.default=n.exports}}]);